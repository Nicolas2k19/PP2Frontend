{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/notificaciones/notificacion.service\";\nimport * as i2 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"src/app/services/comunicacion/comunicacion.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction NotificacionesComponent_ng_template_11_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function NotificacionesComponent_ng_template_11_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.archivar());\n    });\n    i0.ɵɵtext(1, \"Archivar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h4\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function NotificacionesComponent_ng_template_11_Template_button_click_3_listener() {\n      const d_r3 = i0.ɵɵrestoreView(_r2).dismiss;\n      return i0.ɵɵresetView(d_r3(\"Cross click\"));\n    });\n    i0.ɵɵelementStart(4, \"span\", 16);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 17)(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 18)(10, \"p\", 19);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, NotificacionesComponent_ng_template_11_button_13_Template, 2, 0, \"button\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.notificacionSeleccionada.asunto);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r4.notificacionSeleccionada.descripcion);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Fecha: \", i0.ɵɵpipeBind2(12, 4, ctx_r4.notificacionSeleccionada.fecha, \"dd-MM-yyyy HH:mm\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.notificacionSeleccionada.estado != \"Archivada\");\n  }\n}\nfunction NotificacionesComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 4)(2, \"div\", 26)(3, \"div\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 28)(6, \"div\", 27);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const notificacion_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(notificacion_r7.asunto);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(notificacion_r7.descripcion);\n  }\n}\nfunction NotificacionesComponent_div_13_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"div\", 4)(2, \"div\", 26);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 28);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const notificacion_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", notificacion_r7.asunto, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", notificacion_r7.descripcion, \" \");\n  }\n}\nfunction NotificacionesComponent_div_13_div_3_i_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"i\", 32);\n    i0.ɵɵtext(1, \"check_circle\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesComponent_div_13_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 4)(2, \"div\", 26)(3, \"div\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 28)(6, \"div\", 27);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 30);\n    i0.ɵɵtemplate(9, NotificacionesComponent_div_13_div_3_i_9_Template, 2, 0, \"i\", 31);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const notificacion_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(notificacion_r7.asunto);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(notificacion_r7.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", notificacion_r7.estado == \"Archivada\");\n  }\n}\nfunction NotificacionesComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵlistener(\"click\", function NotificacionesComponent_div_13_Template_div_click_0_listener() {\n      const notificacion_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      const content_r8 = i0.ɵɵreference(12);\n      return i0.ɵɵresetView(ctx_r4.open(content_r8, notificacion_r7));\n    });\n    i0.ɵɵtemplate(1, NotificacionesComponent_div_13_div_1_Template, 8, 2, \"div\", 23)(2, NotificacionesComponent_div_13_div_2_Template, 6, 2, \"div\", 24)(3, NotificacionesComponent_div_13_div_3_Template, 10, 3, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const notificacion_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", notificacion_r7.estado == \"NoVista\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", notificacion_r7.estado == \"Vista\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", notificacion_r7.estado == \"Archivada\");\n  }\n}\nexport let NotificacionesComponent = /*#__PURE__*/(() => {\n  class NotificacionesComponent {\n    constructor(notificacionService, config, modalService, spinnerService, comunicacion) {\n      this.notificacionService = notificacionService;\n      this.modalService = modalService;\n      this.spinnerService = spinnerService;\n      this.comunicacion = comunicacion;\n      this.check = false;\n      this.cantidadNotificaciones = 20;\n    }\n    ngOnInit() {\n      this.getNotificacionesNoArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n    }\n    getNotificacionesArchivadas(idAdm, cantNotificaciones) {\n      this.spinnerService.show();\n      this.notificacionService.getNotificacionesArchivadas(idAdm, this.cantidadNotificaciones).subscribe(res => {\n        this.spinnerService.hide();\n        this.notificaciones = res;\n      });\n    }\n    getNotificacionesNoArchivadas(idAdm, cantNotificaciones) {\n      this.notificacionService.getNotificacionesNoArchivadas(idAdm, this.cantidadNotificaciones).subscribe(res => {\n        this.notificaciones = res;\n      });\n    }\n    verArchivadas() {\n      this.cantidadNotificaciones = 20;\n      if (this.check == true) {\n        this.getNotificacionesArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n      } else {\n        this.getNotificacionesNoArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n      }\n    }\n    open(content, notificacion) {\n      this.notificacionSeleccionada = notificacion;\n      this.setVista();\n      this.modalService.open(content);\n    }\n    archivar() {\n      this.notificacionService.archivarNotificacion(this.notificacionSeleccionada).subscribe(res => {\n        this.getNotificacionesNoArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n        this.modalService.dismissAll();\n      });\n    }\n    setVista() {\n      if (this.notificacionSeleccionada.estado == 'NoVista') {\n        this.notificacionService.notificacionSetVista(this.notificacionSeleccionada).subscribe(res => {\n          this.getNotificacionesNoArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n        });\n      }\n    }\n    cargarMas() {\n      this.cantidadNotificaciones += 20;\n      if (this.check == true) {\n        this.getNotificacionesArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n      } else {\n        this.getNotificacionesNoArchivadas(this.comunicacion.administrativo.idUsuario, this.cantidadNotificaciones);\n      }\n    }\n    static #_ = this.ɵfac = function NotificacionesComponent_Factory(t) {\n      return new (t || NotificacionesComponent)(i0.ɵɵdirectiveInject(i1.NotificacionService), i0.ɵɵdirectiveInject(i2.NgbModalConfig), i0.ɵɵdirectiveInject(i2.NgbModal), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ComunicacionService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NotificacionesComponent,\n      selectors: [[\"app-notificaciones\"]],\n      decls: 17,\n      vars: 2,\n      consts: [[\"content\", \"\"], [1, \"container\"], [\"type\", \"ball-clip-rotate\", \"size\", \"medium\", \"bdColor\", \"rgba(51,51,51,0.3)\", \"color\", \"#26294D\"], [2, \"font-size\", \"15px\", \"font-weight\", \"bold\", \"color\", \"#26294D\"], [1, \"row\"], [1, \"archivadas\"], [1, \"form-group\"], [1, \"custom-control\", \"custom-switch\"], [\"type\", \"checkbox\", \"id\", \"customSwitch1\", \"checked\", \"\", 1, \"custom-control-input\", 3, \"change\", \"ngModelChange\", \"ngModel\"], [\"for\", \"customSwitch1\", 1, \"custom-control-label\"], [\"class\", \"card\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-center\"], [1, \"cargarMas\", 3, \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [1, \"joinedDate\"], [\"type\", \"button\", \"class\", \"btn btn-outline-dark\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [1, \"card\", 3, \"click\"], [\"class\", \"card-header\", 4, \"ngIf\"], [\"class\", \"card-header\", \"style\", \"opacity: 0.5;\", 4, \"ngIf\"], [1, \"card-header\"], [1, \"col-4\"], [1, \"texto\"], [1, \"col\"], [1, \"card-header\", 2, \"opacity\", \"0.5\"], [1, \"col-1\"], [\"class\", \"large material-icons\", 4, \"ngIf\"], [1, \"large\", \"material-icons\"]],\n      template: function NotificacionesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"ngx-spinner\", 2)(2, \"p\", 3);\n          i0.ɵɵtext(3, \"Cargando...\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"input\", 8);\n          i0.ɵɵlistener(\"change\", function NotificacionesComponent_Template_input_change_8_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.verArchivadas());\n          });\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function NotificacionesComponent_Template_input_ngModelChange_8_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.check, $event) || (ctx.check = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"label\", 9);\n          i0.ɵɵtext(10, \"Ver archivadas\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(11, NotificacionesComponent_ng_template_11_Template, 14, 7, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(13, NotificacionesComponent_div_13_Template, 4, 3, \"div\", 10);\n          i0.ɵɵelementStart(14, \"div\", 11)(15, \"a\", 12);\n          i0.ɵɵlistener(\"click\", function NotificacionesComponent_Template_a_click_15_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.cargarMas());\n          });\n          i0.ɵɵtext(16, \"Cargar m\\u00E1s ...\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.check);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", ctx.notificaciones);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i6.CheckboxControlValueAccessor, i6.NgControlStatus, i6.NgModel, i3.NgxSpinnerComponent, i5.DatePipe],\n      styles: [\".container[_ngcontent-%COMP%]{color:#26294d}.card[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute}.card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:2%}.archivadas[_ngcontent-%COMP%]{margin-top:3%;float:right;text-align:right}.btn[_ngcontent-%COMP%]{float:right}.texto[_ngcontent-%COMP%]{font-weight:700;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.col[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.cargarMas[_ngcontent-%COMP%]{cursor:pointer}  .modal-backdrop{z-index:1040!important}\"]\n    });\n  }\n  return NotificacionesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}