{"ast":null,"code":"import { FormPersonaDTO } from 'src/app/models/form-persona-dto';\nimport { Localidad } from 'src/app/models/localidad';\nimport { FotoIdentificacion } from 'src/app/models/foto-identificacion';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/personas/persona.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"src/app/services/provincia-localidad/provincia-localidad.service\";\nimport * as i4 from \"src/app/services/fotoIdentificacion/foto-identificacion.service\";\nimport * as i5 from \"ngx-spinner\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@ng-bootstrap/ng-bootstrap\";\nconst _c0 = (a0, a1) => ({\n  \"is-invalid\": a0,\n  \"is-valid\": a1\n});\nconst _c1 = () => ({\n  year: 1900,\n  month: 1,\n  day: 1\n});\nfunction AdministrarPersonasComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.mensajeError, \"\\n\");\n  }\n}\nfunction AdministrarPersonasComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Nombre requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Apellido requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" DNI requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Telefono requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Email requerido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_option_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rol_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", rol_r5, \" \");\n  }\n}\nfunction AdministrarPersonasComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Calle requerida \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Altura requerida \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_option_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const provincia_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", provincia_r6.nombre, \" \");\n  }\n}\nfunction AdministrarPersonasComponent_option_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const localidad_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", localidad_r7.nombre, \" \");\n  }\n}\nfunction AdministrarPersonasComponent_legend_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"legend\");\n    i0.ɵɵtext(1, \"Foto Agresor\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdministrarPersonasComponent_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 48)(2, \"input\", 49);\n    i0.ɵɵlistener(\"change\", function AdministrarPersonasComponent_div_80_Template_input_change_2_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.archivoSeleccionado($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 50);\n    i0.ɵɵtext(4, \"Seleccionar imagen\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AdministrarPersonasComponent_tr_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 51);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function AdministrarPersonasComponent_tr_100_Template_a_click_11_listener() {\n      const persona_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.editarPersona(persona_r10));\n    });\n    i0.ɵɵelementStart(12, \"i\", 53);\n    i0.ɵɵtext(13, \"editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function AdministrarPersonasComponent_tr_100_Template_a_click_14_listener() {\n      const persona_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.eliminarPersona(persona_r10));\n    });\n    i0.ɵɵelementStart(15, \"i\", 53);\n    i0.ɵɵtext(16, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const persona_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r10.persona.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r10.persona.apellido);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(persona_r10.persona.dni);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 4, persona_r10.persona.fechaNacimiento, \"dd-MM-yyyy\"));\n  }\n}\nexport let AdministrarPersonasComponent = /*#__PURE__*/(() => {\n  class AdministrarPersonasComponent {\n    personaService;\n    toastr;\n    provinciaLocalidadService;\n    fotoIdentificacionService;\n    spinner;\n    mensajeError;\n    personaDTOSelleccionada = new FormPersonaDTO();\n    fotoIdentificacion = new FotoIdentificacion();\n    fecha = new Date();\n    maxDatePicker = {\n      year: this.fecha.getFullYear(),\n      month: this.fecha.getMonth() + 1,\n      day: this.fecha.getDate()\n    };\n    fechaMarcador;\n    //COMBO ROLES\n    rolSeleccionado;\n    roles;\n    //COMBOS LOCALIDAD PROVINCIA\n    provincias;\n    provinciaSeleccionada;\n    localidades;\n    localidadSeleccionada;\n    localidad = new Localidad();\n    //CONDOCIONALES PARA FORM\n    mostrarImagen = false;\n    imagenSeleccionada = null;\n    hayError;\n    editarBandera = false;\n    constructor(personaService, toastr, provinciaLocalidadService, fotoIdentificacionService, spinner) {\n      this.personaService = personaService;\n      this.toastr = toastr;\n      this.provinciaLocalidadService = provinciaLocalidadService;\n      this.fotoIdentificacionService = fotoIdentificacionService;\n      this.spinner = spinner;\n      this.mensajeError = \"Ha ocurrido un error\";\n      this.hayError = false;\n      this.roles = ['DAMNIFICADA', 'VICTIMARIO'];\n    }\n    ngOnInit() {\n      this.getPersonas();\n      this.getProvincias();\n      this.editarBandera = false;\n    }\n    getPersonas() {\n      this.spinner.show();\n      this.personaService.getPersonas().subscribe(res => {\n        this.spinner.hide();\n        this.personaService.personas = res;\n        console.log(res);\n      });\n    }\n    guardarPersona(personaForm) {\n      this.personaDTOSelleccionada.usuario.rolDeUsuario = this.rolSeleccionado;\n      let ngbDate = personaForm.value.fechaNacimiento;\n      let myDate = new Date(ngbDate.year, ngbDate.month - 1, ngbDate.day + 1);\n      this.personaDTOSelleccionada.persona.fechaNacimiento = myDate;\n      if (this.editarBandera == true) {\n        this.spinner.show();\n        this.personaService.putPersona(this.personaDTOSelleccionada).subscribe(res => {\n          console.log(res);\n          this.getPersonas();\n          personaForm.reset();\n          this.editarBandera = false;\n          this.personaDTOSelleccionada = new FormPersonaDTO();\n          this.spinner.hide();\n        });\n      } else {\n        this.agregarPersona(personaForm);\n      }\n      this.editarBandera = false;\n    }\n    agregarPersona(personaForm) {\n      this.spinner.show();\n      //CARGO DATOS DEL FORM A PERSONA\n      this.personaDTOSelleccionada.usuario.rolDeUsuario = this.rolSeleccionado;\n      let ngbDate = personaForm.value.fechaNacimiento;\n      let myDate = new Date(ngbDate.year, ngbDate.month - 1, ngbDate.day);\n      this.personaDTOSelleccionada.persona.fechaNacimiento = myDate;\n      //Logica para leer el archivo y guardarlo\n      //Guardo la instancia del componente para usar dentro de la promesa, y el BLOB\n      var imgSeleccionadaBlob;\n      let thisjr = this;\n      imgSeleccionadaBlob = new Blob([this.imagenSeleccionada]);\n      //Creo la promesa para guardar la foto después de cargarla completamente\n      var promise = new Promise(getBuffer);\n      // Espero a terminar la funcion de la promesa, y entonces guardo.\n      promise.then(function (imgBase64) {\n        let img = imgBase64;\n        thisjr.personaDTOSelleccionada.foto = img;\n        thisjr.personaService.postPersona(thisjr.personaDTOSelleccionada).subscribe(res => {\n          var error = res;\n          if (error.hayError) {\n            //MOSTRAR ERROR\n            thisjr.toastr.error(\"\" + error.mensajeError, \"Error!\");\n            thisjr.setHayError();\n            this.spinner.hide();\n          } else {\n            thisjr.toastr.success(\"Persona agregada correctamente\", \"Agregada!\");\n            console.log(thisjr.personaDTOSelleccionada);\n            thisjr.getPersonas();\n            personaForm.reset();\n            this.spinner.hide();\n          }\n        });\n      });\n      //Funcion para usar en la promesa para esperar a que se cargue la foto\n      function getBuffer(resolve) {\n        var fileReader = new FileReader();\n        fileReader.readAsDataURL(imgSeleccionadaBlob);\n        fileReader.onload = function () {\n          var imgBase64 = fileReader.result;\n          resolve(imgBase64);\n        };\n      }\n    }\n    setHayError() {\n      this.hayError = true;\n      setTimeout(() => {\n        this.hayError = false;\n      }, 5000);\n    }\n    archivoSeleccionado(event) {\n      //Obtengo la imagen seleccionada\n      this.imagenSeleccionada = event.target.files[0];\n      if (this.imagenSeleccionada != null) document.getElementById(\"labelImagen\").innerHTML = \"\" + this.imagenSeleccionada.name;else document.getElementById(\"labelImagen\").innerHTML = \"Choose File\";\n    }\n    eliminarPersona(persona) {\n      console.log(persona.persona.idPersona);\n      this.personaService.deletePersona(persona.persona.idPersona).subscribe(res => {\n        var error = res;\n        if (error.hayError) {\n          //MOSTRAR ERROR\n          this.toastr.error(\"\" + error.mensajeError, \"Error!\");\n        } else {\n          this.toastr.success('Persona eliminada correctamente', 'Eliminada!');\n          this.getPersonas();\n        }\n      });\n    }\n    //SELECCION DE ROL PARA MOSTRAR U OCULTAR IMAGEN\n    cambioRol() {\n      if (this.rolSeleccionado == \"VICTIMARIO\") this.mostrarImagen = true;else this.mostrarImagen = false;\n    }\n    //Obtener las provincias\n    getProvincias() {\n      this.spinner.show();\n      this.provinciaLocalidadService.getProvincias().subscribe(res => {\n        this.spinner.hide();\n        this.provincias = res;\n      });\n    }\n    //SELECCION DE PROVINCIA PARA LLENAR LAS LOCALIDADES\n    cambioProvincia() {\n      for (var i = 0; i < this.provincias.length; i++) {\n        if (this.provincias[i].nombre == this.provinciaSeleccionada) this.getLocalidades(this.provincias[i].idProvincia);\n      }\n    }\n    //SE LLENA LAS LOCALIDADES SEGUN PROVINCIA\n    getLocalidades(idProvincia) {\n      this.spinner.show();\n      this.localidades = null;\n      this.provinciaLocalidadService.getLocalidades(idProvincia).subscribe(res => {\n        this.spinner.hide();\n        this.localidades = res;\n        if (this.localidad.nombre != \"\") {\n          this.localidadSeleccionada = this.localidad.nombre;\n        }\n      });\n    }\n    //SELECCION DE LOCALIDAD\n    cambioLocalidad() {\n      for (var i = 0; i < this.localidades.length; i++) {\n        if (this.localidades[i].nombre == this.localidadSeleccionada) {\n          this.personaDTOSelleccionada.direccion.idLocalidad = this.localidades[i].idLocalidad;\n          return;\n        }\n      }\n    }\n    editarPersona(persona) {\n      this.editarBandera = true;\n      this.localidadSeleccionada = \"\";\n      this.localidad = new Localidad();\n      this.personaDTOSelleccionada = persona;\n      this.rolSeleccionado = persona.usuario.rolDeUsuario;\n      let date = new Date(persona.persona.fechaNacimiento);\n      this.fechaMarcador = {\n        year: date.getFullYear(),\n        month: date.getMonth() + 1,\n        day: date.getDate() + 1\n      };\n      this.getLocalidad(persona.direccion.idLocalidad);\n      this.cambioRol();\n      console.log(persona);\n    }\n    //BUSCO LA LOCALIDAD DE LA PERSONA PARA TOMAR LA PROVINCIA \n    //Y LLENO LOS COMBOS\n    getLocalidad(idLocalidad) {\n      this.spinner.show();\n      this.provinciaLocalidadService.getLocalidad(idLocalidad).subscribe(res => {\n        this.spinner.hide();\n        this.localidad = res;\n        for (let i = 0; i < this.provincias.length; i++) {\n          if (this.provincias[i].idProvincia == this.localidad.idProvincia) {\n            this.provinciaSeleccionada = this.provincias[i].nombre;\n            this.getLocalidades(this.localidad.idProvincia);\n          }\n        }\n      });\n    }\n    static ɵfac = function AdministrarPersonasComponent_Factory(t) {\n      return new (t || AdministrarPersonasComponent)(i0.ɵɵdirectiveInject(i1.PersonaService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.ProvinciaLocalidadService), i0.ɵɵdirectiveInject(i4.FotoIdentificacionService), i0.ɵɵdirectiveInject(i5.NgxSpinnerService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdministrarPersonasComponent,\n      selectors: [[\"app-administrar-personas\"]],\n      decls: 101,\n      vars: 60,\n      consts: [[\"personaForm\", \"ngForm\"], [\"nombre\", \"ngModel\"], [\"apellido\", \"ngModel\"], [\"DNI\", \"ngModel\"], [\"telefono\", \"ngModel\"], [\"email\", \"ngModel\"], [\"d\", \"ngbDatepicker\"], [\"calle\", \"ngModel\"], [\"altura\", \"ngModel\"], [\"piso\", \"ngModel\"], [\"departamento\", \"ngModel\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"type\", \"ball-pulse-sync\", \"size\", \"medium\", \"bdColor\", \"rgba(51,51,51,0.5)\"], [2, \"font-size\", \"15px\", \"font-weight\", \"bold\", \"color\", \"white\"], [1, \"container\"], [1, \"row\"], [1, \"col-4\"], [1, \"card\", \"bg-light\", \"mb-3\", 2, \"max-width\", \"20rem\"], [1, \"card-body\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"type\", \"text\", \"name\", \"nombre\", \"placeholder\", \"Nombre\", \"ngbTooltip\", \"Nombre\", \"required\", \"\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"ngModelChange\", \"ngClass\", \"ngModel\"], [\"class\", \"invalid-feedback d-block\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"apellido\", \"placeholder\", \"Apellido\", \"ngbTooltip\", \"Apellido\", \"required\", \"\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"ngModelChange\", \"ngClass\", \"ngModel\"], [\"type\", \"number\", \"name\", \"DNI\", \"placeholder\", \"DNI\", \"ngbTooltip\", \"DNI\", \"required\", \"\", \"maxlength\", \"10\", \"pattern\", \"^[0-9]+\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngClass\"], [\"type\", \"number\", \"name\", \"telefono\", \"placeholder\", \"Tel\\u00E9fono\", \"ngbTooltip\", \"Tel\\u00E9fono\", \"required\", \"\", \"maxlength\", \"30\", \"pattern\", \"^[0-9]+\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngClass\"], [\"type\", \"text\", \"name\", \"email\", \"placeholder\", \"Email\", \"ngbTooltip\", \"Email\", \"required\", \"\", \"email\", \"\", \"maxlength\", \"50\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngClass\"], [1, \"input-group\"], [\"placeholder\", \"Fecha nacimiento (A\\u00F1o-Mes-D\\u00EDa)\", \"name\", \"fechaNacimiento\", \"ngbDatepicker\", \"\", \"ngbTooltip\", \"Fecha nacimiento\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"minDate\", \"maxDate\", \"startDate\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"calendar\", 3, \"click\"], [1, \"small\", \"material-icons\"], [1, \"form-group\", \"btn-block\"], [\"name\", \"rolSeleccionado\", \"ngbTooltip\", \"Rol de persona\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"calle\", \"placeholder\", \"Calle\", \"ngbTooltip\", \"Calle\", \"required\", \"\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngClass\"], [\"type\", \"number\", \"name\", \"altura\", \"placeholder\", \"Altura\", \"ngbTooltip\", \"Altura\", \"required\", \"\", \"maxlength\", \"8\", \"pattern\", \"^[0-9]+\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\", \"ngClass\"], [\"type\", \"number\", \"name\", \"piso\", \"placeholder\", \"Piso\", \"ngbTooltip\", \"Piso\", \"maxlength\", \"3\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"text\", \"name\", \"departamento\", \"placeholder\", \"Departamento\", \"ngbTooltip\", \"Departamento\", \"maxlength\", \"8\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"provinciaSeleccionada\", \"ngbTooltip\", \"Provincia\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [\"name\", \"localidadSeleccionada\", \"ngbTooltip\", \"Localidad\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"change\", \"ngModel\"], [4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"disabled\"], [1, \"col\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [1, \"invalid-feedback\", \"d-block\"], [1, \"custom-file\"], [\"type\", \"file\", \"id\", \"customFile\", \"name\", \"imagen\", \"accept\", \"image/*\", 1, \"custom-file-input\", 3, \"change\"], [\"id\", \"labelImagen\", \"for\", \"customFile\", 1, \"custom-file-label\"], [1, \"joinedDate\"], [3, \"click\"], [1, \"material-icons\"]],\n      template: function AdministrarPersonasComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵtemplate(0, AdministrarPersonasComponent_div_0_Template, 2, 1, \"div\", 11);\n          i0.ɵɵelementStart(1, \"ngx-spinner\", 12)(2, \"p\", 13);\n          i0.ɵɵtext(3, \"Cargando...\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 14)(5, \"div\", 15)(6, \"div\", 16)(7, \"div\", 17)(8, \"div\", 18)(9, \"legend\");\n          i0.ɵɵtext(10, \"Persona\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"form\", 19, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function AdministrarPersonasComponent_Template_form_ngSubmit_11_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const personaForm_r3 = i0.ɵɵreference(12);\n            return i0.ɵɵresetView(ctx.guardarPersona(personaForm_r3));\n          });\n          i0.ɵɵelementStart(13, \"div\", 15)(14, \"input\", 20, 1);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_14_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.persona.nombre, $event) || (ctx.personaDTOSelleccionada.persona.nombre = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, AdministrarPersonasComponent_div_16_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 15)(18, \"input\", 22, 2);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_18_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.persona.apellido, $event) || (ctx.personaDTOSelleccionada.persona.apellido = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(20, AdministrarPersonasComponent_div_20_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 15)(22, \"input\", 23, 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_22_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.persona.dni, $event) || (ctx.personaDTOSelleccionada.persona.dni = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, AdministrarPersonasComponent_div_24_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 15)(26, \"input\", 24, 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_26_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.persona.telefono, $event) || (ctx.personaDTOSelleccionada.persona.telefono = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, AdministrarPersonasComponent_div_28_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 15)(30, \"input\", 25, 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_30_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.usuario.email, $event) || (ctx.personaDTOSelleccionada.usuario.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(32, AdministrarPersonasComponent_div_32_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 15)(34, \"div\", 26)(35, \"input\", 27, 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_35_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.persona.fechaNacimiento, $event) || (ctx.personaDTOSelleccionada.persona.fechaNacimiento = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"div\", 28)(38, \"button\", 29);\n          i0.ɵɵlistener(\"click\", function AdministrarPersonasComponent_Template_button_click_38_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const d_r4 = i0.ɵɵreference(36);\n            return i0.ɵɵresetView(d_r4.toggle());\n          });\n          i0.ɵɵelementStart(39, \"i\", 30);\n          i0.ɵɵtext(40, \"event\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(41, \"div\", 15)(42, \"label\");\n          i0.ɵɵtext(43, \"Rol Persona\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"div\", 31)(45, \"select\", 32);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_select_ngModelChange_45_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.rolSeleccionado, $event) || (ctx.rolSeleccionado = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵlistener(\"change\", function AdministrarPersonasComponent_Template_select_change_45_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.cambioRol());\n          });\n          i0.ɵɵtemplate(46, AdministrarPersonasComponent_option_46_Template, 2, 1, \"option\", 33);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(47, \"legend\");\n          i0.ɵɵtext(48, \"Domicilio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(49, \"div\", 15)(50, \"input\", 34, 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_50_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.direccion.calle, $event) || (ctx.personaDTOSelleccionada.direccion.calle = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(52, AdministrarPersonasComponent_div_52_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"div\", 15)(54, \"input\", 35, 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_54_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.direccion.altura, $event) || (ctx.personaDTOSelleccionada.direccion.altura = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(56, AdministrarPersonasComponent_div_56_Template, 2, 0, \"div\", 21);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(57, \"div\", 15)(58, \"input\", 36, 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_58_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.direccion.piso, $event) || (ctx.personaDTOSelleccionada.direccion.piso = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(60, \"div\", 15)(61, \"input\", 37, 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_input_ngModelChange_61_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.personaDTOSelleccionada.direccion.departamento, $event) || (ctx.personaDTOSelleccionada.direccion.departamento = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(63, \"div\", 15)(64, \"label\");\n          i0.ɵɵtext(65, \"Provincia\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(66, \"div\", 31)(67, \"select\", 38);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_select_ngModelChange_67_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.provinciaSeleccionada, $event) || (ctx.provinciaSeleccionada = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵlistener(\"change\", function AdministrarPersonasComponent_Template_select_change_67_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.cambioProvincia());\n          });\n          i0.ɵɵelementStart(68, \"option\");\n          i0.ɵɵtext(69, \"-Seleccionar Provincia-\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(70, AdministrarPersonasComponent_option_70_Template, 2, 1, \"option\", 33);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(71, \"div\", 15)(72, \"label\");\n          i0.ɵɵtext(73, \"Localidad\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(74, \"div\", 31)(75, \"select\", 39);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AdministrarPersonasComponent_Template_select_ngModelChange_75_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.localidadSeleccionada, $event) || (ctx.localidadSeleccionada = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵlistener(\"change\", function AdministrarPersonasComponent_Template_select_change_75_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.cambioLocalidad());\n          });\n          i0.ɵɵelementStart(76, \"option\");\n          i0.ɵɵtext(77, \"-Seleccionar localidad-\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(78, AdministrarPersonasComponent_option_78_Template, 2, 1, \"option\", 33);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(79, AdministrarPersonasComponent_legend_79_Template, 2, 0, \"legend\", 40)(80, AdministrarPersonasComponent_div_80_Template, 5, 0, \"div\", 41);\n          i0.ɵɵelement(81, \"br\");\n          i0.ɵɵelementStart(82, \"div\", 15)(83, \"button\", 42);\n          i0.ɵɵtext(84, \"Agregar\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(85, \"div\", 43)(86, \"table\", 44)(87, \"thead\")(88, \"tr\")(89, \"th\", 45);\n          i0.ɵɵtext(90, \"Apellido\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(91, \"th\", 45);\n          i0.ɵɵtext(92, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(93, \"th\", 45);\n          i0.ɵɵtext(94, \"DNI\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(95, \"th\", 45);\n          i0.ɵɵtext(96, \"Fecha nacimiento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(97, \"th\", 45);\n          i0.ɵɵtext(98, \"Operaciones\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(99, \"tbody\");\n          i0.ɵɵtemplate(100, AdministrarPersonasComponent_tr_100_Template, 17, 7, \"tr\", 33);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          const personaForm_r3 = i0.ɵɵreference(12);\n          const nombre_r11 = i0.ɵɵreference(15);\n          const apellido_r12 = i0.ɵɵreference(19);\n          const DNI_r13 = i0.ɵɵreference(23);\n          const telefono_r14 = i0.ɵɵreference(27);\n          const email_r15 = i0.ɵɵreference(31);\n          const calle_r16 = i0.ɵɵreference(51);\n          const altura_r17 = i0.ɵɵreference(55);\n          i0.ɵɵproperty(\"ngIf\", ctx.hayError);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(38, _c0, nombre_r11.invalid && nombre_r11.touched, nombre_r11.valid));\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.persona.nombre);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", nombre_r11.invalid && (nombre_r11.dirty || nombre_r11.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(41, _c0, apellido_r12.invalid && apellido_r12.touched, apellido_r12.valid));\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.persona.apellido);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", apellido_r12.invalid && (apellido_r12.dirty || apellido_r12.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.persona.dni);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(44, _c0, DNI_r13.invalid && DNI_r13.touched, DNI_r13.valid));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", DNI_r13.invalid && (DNI_r13.dirty || DNI_r13.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.persona.telefono);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(47, _c0, telefono_r14.invalid && telefono_r14.touched, telefono_r14.valid));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", telefono_r14.invalid && (telefono_r14.dirty || telefono_r14.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.usuario.email);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(50, _c0, email_r15.invalid && email_r15.touched, email_r15.valid));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", email_r15.invalid && (email_r15.dirty || email_r15.touched));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.persona.fechaNacimiento);\n          i0.ɵɵproperty(\"minDate\", i0.ɵɵpureFunction0(53, _c1))(\"maxDate\", ctx.maxDatePicker)(\"startDate\", ctx.fechaMarcador);\n          i0.ɵɵadvance(10);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.rolSeleccionado);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.direccion.calle);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(54, _c0, calle_r16.invalid && calle_r16.touched, calle_r16.valid));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", calle_r16.invalid && (calle_r16.dirty || calle_r16.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.direccion.altura);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(57, _c0, altura_r17.invalid && altura_r17.touched, altura_r17.valid));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", altura_r17.invalid && (altura_r17.dirty || altura_r17.touched));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.direccion.piso);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.personaDTOSelleccionada.direccion.departamento);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.provinciaSeleccionada);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.provincias);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.localidadSeleccionada);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.localidades);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.mostrarImagen);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.mostrarImagen);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", !personaForm_r3.valid);\n          i0.ɵɵadvance(17);\n          i0.ɵɵproperty(\"ngForOf\", ctx.personaService.personas);\n        }\n      },\n      dependencies: [i6.NgClass, i6.NgForOf, i6.NgIf, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.MaxLengthValidator, i7.PatternValidator, i7.EmailValidator, i7.NgModel, i7.NgForm, i8.NgbInputDatepicker, i8.NgbTooltip, i5.NgxSpinnerComponent, i6.DatePipe],\n      styles: [\".container[_ngcontent-%COMP%]{color:#053667}.row[_ngcontent-%COMP%]{margin-top:10px}.card[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]{color:#053667}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:azure;cursor:pointer}.table[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:.3}.spinner-grow[_ngcontent-%COMP%]{position:fixed;margin-top:20%;z-index:9999}\"]\n    });\n  }\n  return AdministrarPersonasComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}